# 古玩商城app

1. 用户类型
   1. app用户
      1. 普通用户
         1. 拥有卖家权限的用户
         2. 没有卖家权限的用户
      2. 代理
         1. 代理比普通用户多一个钱包，可以使用钱包支付
   2. 后台用户
      1. 代理用户（审核用户 分配低级代理  录入代理区域内的店铺信息）
      2. 平台管理者（）
2. 统计实时在线的用户
   1. 每个用户都有个近期访问时间的字段，这个字段的值在某个范围内的都算实时在线。
   2. 这个字段在用户刷新token的时候进行更新。
3. 第三方登录实现逻辑
   1. 第三方登录成功后获得微信用户信息（openid等）
   2. 页面跳转到注册本地账号页面（或绑定已有账号）
   3. 提交本地账号注册信息的时候顺便将微信用户信息一并传给后端，微信信息存入微信表，将id存入本地账号表的wx_id中进行关联（绑定已有账号操作也类似 ，在验证手机号之后通过请求将微信信息和本地账户关联）
   4. 注册成功（或关联成功后），后端依旧是使用本地账户信息生成token。

4. 消息中心的实现逻辑
   1. 使用极光推送。

